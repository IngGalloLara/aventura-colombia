<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Aventura por Colombia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>ğŸ§­ Aventura por Colombia ğŸ—ºï¸</h1>

<div id="inicio">
  <label for="nombreJugador">Tu nombre: </label>
  <input type="text" id="nombreJugador" placeholder="Escribe tu nombre">
  <button onclick="iniciarJuego()">Iniciar juego</button>
</div>

<div id="pregunta" style="display:none;"></div>
<div id="opciones" style="display:none;"></div>
<div id="resultado" style="display:none;"></div>
<div id="puntaje" style="display:none;">Puntos: 0</div>
<div id="vidas" style="display:none;">Vidas: 3</div>

<div id="diploma" style="display: none;">
  <h2>ğŸ…ğŸ“ Â¡Felicitaciones, <span id="nombreDiploma"></span>! ğŸ“ğŸ…</h2>
  <p>Â¡Completaste la Aventura por Colombia!</p>
  <p>Tu puntaje final fue: <span id="puntajeFinal"></span></p>
  <p>Â¡Eres un pro de la geografÃ­a colombiana! ğŸ§ ğŸ‡¨ğŸ‡´</p>
  <p id="fraseFinal">â€œSigue explorando, cada respuesta es un paso mÃ¡s cerca de la sabidurÃ­a.â€</p>
  <button onclick="reiniciarJuego()">ğŸ”„ Jugar otra vez</button>
  <button onclick="cambiarJugador()">ğŸ‘¤ Cambiar de jugador</button>
</div>

<p class="creditos">Creado por Carolina Gallo con la ayuda de la IA Noah (ChatGPT)</p>

<script>
  const datos = [
    { departamento: "Amazonas", capital: "Leticia" },
    { departamento: "Antioquia", capital: "MedellÃ­n" },
    { departamento: "Arauca", capital: "Arauca" },
    { departamento: "AtlÃ¡ntico", capital: "Barranquilla" },
    { departamento: "BolÃ­var", capital: "Cartagena de Indias" },
    { departamento: "BoyacÃ¡", capital: "Tunja" },
    { departamento: "Caldas", capital: "Manizales" },
    { departamento: "CaquetÃ¡", capital: "Florencia" },
    { departamento: "Casanare", capital: "Yopal" },
    { departamento: "Cauca", capital: "PopayÃ¡n" },
    { departamento: "Cesar", capital: "Valledupar" },
    { departamento: "ChocÃ³", capital: "QuibdÃ³" },
    { departamento: "CÃ³rdoba", capital: "MonterÃ­a" },
    { departamento: "Cundinamarca", capital: "BogotÃ¡" },
    { departamento: "GuainÃ­a", capital: "InÃ­rida" },
    { departamento: "Guaviare", capital: "San JosÃ© del Guaviare" },
    { departamento: "Huila", capital: "Neiva" },
    { departamento: "La Guajira", capital: "Riohacha" },
    { departamento: "Magdalena", capital: "Santa Marta" },
    { departamento: "Meta", capital: "Villavicencio" },
    { departamento: "NariÃ±o", capital: "Pasto" },
    { departamento: "Norte de Santander", capital: "CÃºcuta" },
    { departamento: "Putumayo", capital: "Mocoa" },
    { departamento: "QuindÃ­o", capital: "Armenia" },
    { departamento: "Risaralda", capital: "Pereira" },
    { departamento: "San AndrÃ©s y Providencia", capital: "San AndrÃ©s" },
    { departamento: "Santander", capital: "Bucaramanga" },
    { departamento: "Sucre", capital: "Sincelejo" },
    { departamento: "Tolima", capital: "IbaguÃ©" },
    { departamento: "Valle del Cauca", capital: "Cali" },
    { departamento: "VaupÃ©s", capital: "MitÃº" },
    { departamento: "Vichada", capital: "Puerto CarreÃ±o" }
  ];

  let puntaje = 0;
  let vidas = 3;
  let preguntasHechas = 0;
  const totalPreguntas = 10;
  let nombre = "";
  let preguntasRestantes = [];

  function iniciarJuego() {
    const inputNombre = document.getElementById("nombreJugador").value.trim();
    if (inputNombre === "") {
      alert("Por favor, escribe un nombre para jugar.");
      return;
    }

    nombre = inputNombre;
    puntaje = 0;
    vidas = 3;
    preguntasHechas = 0;
    preguntasRestantes = [...datos];

    document.getElementById("inicio").style.display = "none";
    document.getElementById("pregunta").style.display = "block";
    document.getElementById("opciones").style.display = "block";
    document.getElementById("vidas").style.display = "block";
    document.getElementById("puntaje").style.display = "block";
    document.getElementById("resultado").style.display = "block";

    document.getElementById("resultado").innerText = "";
    document.getElementById("diploma").style.display = "none";

    actualizarEstado();
    cargarPregunta();
  }

  function cargarPregunta() {
    if (vidas === 0) {
      document.getElementById("pregunta").innerText = "ğŸ˜¢ Te quedaste sin vidas.";
      document.getElementById("opciones").innerHTML = `
        <button onclick="reiniciarJuego()">ğŸ”„ Intentar de nuevo</button>
        <button onclick="cambiarJugador()">ğŸ‘¤ Cambiar de jugador</button>
      `;
      document.getElementById("resultado").innerText = `Tu puntaje final fue: ${puntaje}`;
      return;
    }

    if (preguntasHechas >= totalPreguntas) {
      mostrarDiploma();
      return;
    }

    const indice = Math.floor(Math.random() * preguntasRestantes.length);
    const pregunta = preguntasRestantes.splice(indice, 1)[0];

    const opciones = [pregunta.capital];
    while (opciones.length < 3) {
      let aleatorio = datos[Math.floor(Math.random() * datos.length)].capital;
      if (!opciones.includes(aleatorio)) opciones.push(aleatorio);
    }

    opciones.sort(() => Math.random() - 0.5);

    document.getElementById("pregunta").innerText =
      `Â¿CuÃ¡l es la capital de ${pregunta.departamento}?`;

    const opcionesDiv = document.getElementById("opciones");
    opcionesDiv.innerHTML = "";
    opciones.forEach(opcion => {
      const boton = document.createElement("button");
      boton.innerText = opcion;
      boton.classList.add("opcion");
      boton.onclick = () => {
        if (opcion === pregunta.capital) {
          document.getElementById("resultado").innerText = "âœ… Â¡Correcto!";
          document.getElementById("resultado").style.color = "green";
        } else {
          document.getElementById("resultado").innerText = `âŒ Incorrecto. Era ${pregunta.capital}`;
          document.getElementById("resultado").style.color = "red";
          vidas--;
        }
        puntaje += (opcion === pregunta.capital) ? 1 : 0;
        preguntasHechas++;
        actualizarEstado();
        setTimeout(() => {
          document.getElementById("resultado").innerText = "";
          cargarPregunta();
        }, 1000);
      };
      opcionesDiv.appendChild(boton);
    });
  }

  function actualizarEstado() {
    document.getElementById("puntaje").innerText = `Puntos: ${puntaje}`;
    document.getElementById("vidas").innerText = `Vidas: ${vidas}`;
  }

  function mostrarDiploma() {
    document.getElementById("pregunta").style.display = "none";
    document.getElementById("opciones").style.display = "none";
    document.getElementById("vidas").style.display = "none";
    document.getElementById("puntaje").style.display = "none";
    document.getElementById("resultado").style.display = "none";

    document.getElementById("nombreDiploma").innerText = nombre;
    document.getElementById("puntajeFinal").innerText = puntaje;
    document.getElementById("diploma").style.display = "block";
  }

  function reiniciarJuego() {
    iniciarJuego();
  }

  function cambiarJugador() {
    nombre = "";
    document.getElementById("nombreJugador").value = "";
    document.getElementById("inicio").style.display = "block";
    document.getElementById("pregunta").style.display = "none";
    document.getElementById("opciones").style.display = "none";
    document.getElementById("vidas").style.display = "none";
    document.getElementById("puntaje").style.display = "none";
    document.getElementById("resultado").style.display = "none";
    document.getElementById("diploma").style.display = "none";
  }
</script>

</body>
</html>
