<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aventura por Colombia</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <h1>ðŸ§­ Aventura por Colombia ðŸ“š</h1>

  <div id="inicio" class="caja-contenido">
    <label for="nombreJugador">Tu nombre: </label>
    <input type="text" id="nombreJugador" placeholder="Escribe tu nombre">
    <button onclick="iniciarJuego()">Iniciar juego</button>
  </div>

  <div id="contenedorJuego" class="caja-contenido" style="display: none;">
    <div id="pregunta"></div>
    <div id="opciones"></div>
    <div id="resultado"></div>
  </div>

  <div id="puntaje" class="caja-contenido">Puntos: 0</div>
  <div id="vidas" class="caja-contenido">Vidas: 3</div>

  <div id="diploma" class="caja-contenido" style="display: none;">
    <h2>ðŸŽ“ Â¡Felicitaciones, <span id="ganador"></span>! ðŸŽ“</h2>
    <p>Â¡Completaste la Aventura por Colombia!</p>
    <p>Â¡Eres un pro de la geografÃ­a Colombiana!</p>
    <button onclick="reiniciarJuego()">ðŸ”„ Jugar otra vez</button>
    <button onclick="cambiarJugador()">ðŸ‘¤ Cambiar de jugador</button>
  </div>

  <script>
    const datos = [
      { departamento: "Amazonas", capital: "Leticia" },
      { departamento: "Antioquia", capital: "MedellÃ­n" },
      { departamento: "Arauca", capital: "Arauca" },
      { departamento: "AtlÃ¡ntico", capital: "Barranquilla" },
      { departamento: "BolÃ­var", capital: "Cartagena de Indias" },
      { departamento: "BoyacÃ¡", capital: "Tunja" },
      { departamento: "Caldas", capital: "Manizales" },
      { departamento: "CaquetÃ¡", capital: "Florencia" },
      { departamento: "Casanare", capital: "Yopal" },
      { departamento: "Cauca", capital: "PopayÃ¡n" },
      { departamento: "Cesar", capital: "Valledupar" },
      { departamento: "ChocÃ³", capital: "QuibdÃ³" },
      { departamento: "CÃ³rdoba", capital: "MonterÃ­a" },
      { departamento: "Cundinamarca", capital: "BogotÃ¡" },
      { departamento: "GuainÃ­a", capital: "InÃ­rida" },
      { departamento: "Guaviare", capital: "San JosÃ© del Guaviare" },
      { departamento: "Huila", capital: "Neiva" },
      { departamento: "La Guajira", capital: "Riohacha" },
      { departamento: "Magdalena", capital: "Santa Marta" },
      { departamento: "Meta", capital: "Villavicencio" },
      { departamento: "NariÃ±o", capital: "Pasto" },
      { departamento: "Norte de Santander", capital: "CÃºcuta" },
      { departamento: "Putumayo", capital: "Mocoa" },
      { departamento: "QuindÃ­o", capital: "Armenia" },
      { departamento: "Risaralda", capital: "Pereira" },
      { departamento: "San AndrÃ©s y Providencia", capital: "San AndrÃ©s" },
      { departamento: "Santander", capital: "Bucaramanga" },
      { departamento: "Sucre", capital: "Sincelejo" },
      { departamento: "Tolima", capital: "IbaguÃ©" },
      { departamento: "Valle del Cauca", capital: "Cali" },
      { departamento: "VaupÃ©s", capital: "MitÃº" },
      { departamento: "Vichada", capital: "Puerto CarreÃ±o" }
    ];

    let puntaje = 0;
    let vidas = 3;
    let preguntasHechas = 0;
    const totalPreguntas = 10;
    let nombre = "";

    function iniciarJuego() {
      const inputNombre = document.getElementById("nombreJugador").value.trim();
      if (inputNombre === "") {
        alert("Por favor, escribe un nombre para jugar.");
        return;
      }

      nombre = inputNombre;
      document.getElementById("inicio").style.display = "none";
      document.getElementById("contenedorJuego").style.display = "block";
      document.getElementById("puntaje").style.display = "block";
      document.getElementById("vidas").style.display = "block";
      document.getElementById("resultado").innerText = "";
      document.getElementById("pregunta").innerText = "";
      document.getElementById("opciones").innerHTML = "";

      puntaje = 0;
      vidas = 3;
      preguntasHechas = 0;

      actualizarEstado();
      cargarPregunta();
    }

    function cargarPregunta() {
      if (vidas === 0) {
        document.getElementById("pregunta").innerText = "ðŸ˜¢ Te quedaste sin vidas.";
        document.getElementById("opciones").innerHTML = `
          <button onclick="reiniciarJuego()">ðŸ”„ Intentar de nuevo</button>
          <button onclick="cambiarJugador()">ðŸ‘¤ Cambiar de jugador</button>
        `;
        document.getElementById("resultado").innerText = "";
        return;
      }

      if (preguntasHechas >= totalPreguntas) {
        mostrarDiploma();
        return;
      }

      const indice = Math.floor(Math.random() * datos.length);
      const pregunta = datos[indice];

      const opciones = [pregunta.capital];
      while (opciones.length < 3) {
        let aleatorio = datos[Math.floor(Math.random() * datos.length)].capital;
        if (!opciones.includes(aleatorio)) opciones.push(aleatorio);
      }

      opciones.sort(() => Math.random() - 0.5);

      document.getElementById("pregunta").innerText =
        `Â¿CuÃ¡l es la capital de ${pregunta.departamento}?`;

      const opcionesDiv = document.getElementById("opciones");
      opcionesDiv.innerHTML = "";
      opciones.forEach(opcion => {
        const boton = document.createElement("button");
        boton.innerText = opcion;
        boton.classList.add("opcion");
        boton.onclick = () => {
          if (opcion === pregunta.capital) {
            document.getElementById("resultado").innerText = "âœ… Â¡Correcto!";
            puntaje++;
          } else {
            document.getElementById("resultado").innerText = `âŒ Incorrecto. Era ${pregunta.capital}`;
            vidas--;
          }
          preguntasHechas++;
          actualizarEstado();
          setTimeout(() => {
            document.getElementById("resultado").innerText = "";
            cargarPregunta();
          }, 1000);
        };
        opcionesDiv.appendChild(boton);
      });
    }

    function actualizarEstado() {
      document.getElementById("puntaje").innerText = `Puntos: ${puntaje}`;
      document.getElementById("vidas").innerText = `Vidas: ${vidas}`;
    }

    function mostrarDiploma() {
      document.getElementById("contenedorJuego").style.display = "none";
      document.getElementById("puntaje").style.display = "none";
      document.getElementById("vidas").style.display = "none";
      document.getElementById("resultado").style.display = "none";
      document.getElementById("ganador").innerText = nombre;
      document.getElementById("diploma").style.display = "block";
    }

    function reiniciarJuego() {
      puntaje = 0;
      vidas = 3;
      preguntasHechas = 0;

      document.getElementById("contenedorJuego").style.display = "block";
      document.getElementById("diploma").style.display = "none";
      actualizarEstado();
      cargarPregunta();
    }

    function cambiarJugador() {
      puntaje = 0;
      vidas = 3;
      preguntasHechas = 0;
      nombre = "";

      document.getElementById("inicio").style.display = "block";
      document.getElementById("diploma").style.display = "none";
      document.getElementById("contenedorJuego").style.display = "none";
      document.getElementById("puntaje").style.display = "none";
      document.getElementById("vidas").style.display = "none";
      document.getElementById("nombreJugador").value = "";
    }
  </script>

</body>
</html>
