<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Aventura por Colombia</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <h1>üß≠ Aventura por Colombia üìö</h1>

  <div id="inicio" class="caja-contenido">
    <label for="nombreJugador">Tu nombre: </label>
    <input type="text" id="nombreJugador" placeholder="Escribe tu nombre">
    <button onclick="iniciarJuego()">Iniciar juego</button>
  </div>

  <div id="contenedorJuego" class="caja-contenido" style="display: none;">
    <div id="pregunta"></div>
    <div id="opciones"></div>
    <div id="resultado"></div>
  </div>

  <div id="puntaje" class="caja-contenido">Puntos: 0</div>
  <div id="vidas" class="caja-contenido">Vidas: 3</div>

  <div id="diploma" class="caja-contenido" style="display: none;">
    <h2>üéì ¬°Felicitaciones, <span id="ganador"></span>! üéì</h2>
    <p>¬°Completaste la Aventura por Colombia!</p>
    <p>¬°Puntaje final: <span id="puntajeFinal"></span>!</p>
    <button onclick="reiniciarJuego()">üîÑ Jugar otra vez</button>
    <button onclick="cambiarJugador()">üë§ Cambiar de jugador</button>
  </div>

  <footer style="margin-top: 40px; font-size: 0.9em; color: #555;">
    Hecho con ‚ù§Ô∏è por Carolina Gallo usando la IA Noah (ChatGPT)
  </footer>

  <script>
    const datos = [
      { departamento: "Amazonas", capital: "Leticia" },
      { departamento: "Antioquia", capital: "Medell√≠n" },
      { departamento: "Arauca", capital: "Arauca" },
      { departamento: "Atl√°ntico", capital: "Barranquilla" },
      { departamento: "Bol√≠var", capital: "Cartagena de Indias" },
      { departamento: "Boyac√°", capital: "Tunja" },
      { departamento: "Caldas", capital: "Manizales" },
      { departamento: "Caquet√°", capital: "Florencia" },
      { departamento: "Casanare", capital: "Yopal" },
      { departamento: "Cauca", capital: "Popay√°n" },
      { departamento: "Cesar", capital: "Valledupar" },
      { departamento: "Choc√≥", capital: "Quibd√≥" },
      { departamento: "C√≥rdoba", capital: "Monter√≠a" },
      { departamento: "Cundinamarca", capital: "Bogot√°" },
      { departamento: "Guain√≠a", capital: "In√≠rida" },
      { departamento: "Guaviare", capital: "San Jos√© del Guaviare" },
      { departamento: "Huila", capital: "Neiva" },
      { departamento: "La Guajira", capital: "Riohacha" },
      { departamento: "Magdalena", capital: "Santa Marta" },
      { departamento: "Meta", capital: "Villavicencio" },
      { departamento: "Nari√±o", capital: "Pasto" },
      { departamento: "Norte de Santander", capital: "C√∫cuta" },
      { departamento: "Putumayo", capital: "Mocoa" },
      { departamento: "Quind√≠o", capital: "Armenia" },
      { departamento: "Risaralda", capital: "Pereira" },
      { departamento: "San Andr√©s y Providencia", capital: "San Andr√©s" },
      { departamento: "Santander", capital: "Bucaramanga" },
      { departamento: "Sucre", capital: "Sincelejo" },
      { departamento: "Tolima", capital: "Ibagu√©" },
      { departamento: "Valle del Cauca", capital: "Cali" },
      { departamento: "Vaup√©s", capital: "Mit√∫" },
      { departamento: "Vichada", capital: "Puerto Carre√±o" }
    ];

    let puntaje = 0;
    let vidas = 3;
    let preguntasHechas = 0;
    const totalPreguntas = 10;
    let nombre = "";
    let preguntasDisponibles = [];

    function iniciarJuego() {
      const inputNombre = document.getElementById("nombreJugador").value.trim();
      if (inputNombre === "") {
        alert("Por favor, escribe un nombre para jugar.");
        return;
      }

      nombre = inputNombre;
      preguntasDisponibles = [...datos]; // Reinicia el banco de preguntas

      document.getElementById("inicio").style.display = "none";
      document.getElementById("contenedorJuego").style.display = "block";
      document.getElementById("puntaje").style.display = "block";
      document.getElementById("vidas").style.display = "block";
      document.getElementById("diploma").style.display = "none";

      puntaje = 0;
      vidas = 3;
      preguntasHechas = 0;

      actualizarEstado();
      cargarPregunta();
    }

    function cargarPregunta() {
      if (vidas === 0) {
        document.getElementById("pregunta").innerText = "üò¢ Te quedaste sin vidas.";
        document.getElementById("opciones").innerHTML = `
          <button onclick="reiniciarJuego()">üîÑ Intentar de nuevo</button>
          <button onclick="cambiarJugador()">üë§ Cambiar de jugador</button>
        `;
        document.getElementById("resultado").innerText = `Puntaje final: ${puntaje}`;
        return;
      }

      if (preguntasHechas >= totalPreguntas) {
        mostrarDiploma();
        return;
      }

      const indice = Math.floor(Math.random() * preguntasDisponibles.length);
      const pregunta = preguntasDisponibles.splice(indice, 1)[0];

      const opciones = [pregunta.capital];
      while (opciones.length < 3) {
        let aleatorio = datos[Math.floor(Math.random() * datos.length)].capital;
        if (!opciones.includes(aleatorio)) opciones.push(aleatorio);
      }

      opciones.sort(() => Math.random() - 0.5);

      document.getElementById("pregunta").innerText = `¬øCu√°l es la capital de ${pregunta.departamento}?`;

      const opcionesDiv = document.getElementById("opciones");
      opcionesDiv.innerHTML = "";
      opciones.forEach(opcion => {
        const boton = document.createElement("button");
        boton.innerText = opcion;
        boton.classList.add("opcion");
        boton.onclick = () => {
          if (opcion === pregunta.capital) {
            document.getElementById("resultado").innerText = "‚úÖ ¬°Correcto!";
            document.getElementById("resultado").className = "resultado-correcto";
            puntaje++;
          } else {
            document.getElementById("resultado").innerText = `‚ùå Incorrecto. Era ${pregunta.capital}`;
            document.getElementById("resultado").className = "resultado-incorrecto";
            vidas--;
          }
          preguntasHechas++;
          actualizarEstado();
          setTimeout(() => {
            document.getElementById("resultado").innerText = "";
            document.getElementById("resultado").className = "";
            cargarPregunta();
          }, 1000);
        };
        opcionesDiv.appendChild(boton);
      });
    }

    function actualizarEstado() {
      document.getElementById("puntaje").innerText = `Puntos: ${puntaje}`;
      document.getElementById("vidas").innerText = `Vidas: ${vidas}`;
    }

    function mostrarDiploma() {
      document.getElementById("contenedorJuego").style.display = "none";
      document.getElementById("puntaje").style.display = "none";
      document.getElementById("vidas").style.display = "none";
      document.getElementById("resultado").style.display = "none";

      document.getElementById("ganador").innerText = nombre;
      document.getElementById("puntajeFinal").innerText = puntaje;
      document.getElementById("diploma").style.display = "block";
    }

    function reiniciarJuego() {
      iniciarJuego();
    }

    function cambiarJugador() {
      nombre = "";
      puntaje = 0;
      vidas = 3;
      preguntasHechas = 0;
      preguntasDisponibles = [];

      document.getElementById("inicio").style.display = "block";
      document.getElementById("contenedorJuego").style.display = "none";
      document.getElementById("diploma").style.display = "none";
      document.getElementById("puntaje").style.display = "none";
      document.getElementById("vidas").style.display = "none";
      document.getElementById("nombreJugador").value = "";
      document.getElementById("resultado").innerText = "";
      document.getElementById("opciones").innerHTML = "";
    }
  </script>

</body>
</html>
